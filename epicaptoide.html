<!DOCTYPE html>
<html>
    <head>
        <title>nowgg.fun</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="home.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css2?family=Parkinsans:wght@300..800&display=swap" rel="stylesheet">
        <style>iframe{ border: none; width: 100%; height: 100%; margin: 0; overflow: hidden; position: absolute; top: 0; left: 0; }</style> 
        <style>
            body { font-family: "Parkinsans" !important; background: #111; color: white; text-align: center; font-family: "Kanit", sans-serif; font-weight: 600; font-style: normal; user-select: none;}
img{
    width: 150px;
    height: 150px;
    border-radius: 15px;
    transition: ease .2s;
    border: 5px solid transparent; 
}
img:hover{
    scale: 1.2;
    transition: ease .2s;
    border: 5px solid #ffffff;
    cursor: pointer;
}
a {
    color: #67a1ff;
    transition: ease 0.2s;
    text-underline-offset: 10000px;
  }
  .headericons{
    width: 35px;
    height: 35px;
    border-radius: 15px;
    transition: ease .2s;
    border: 5px solid transparent; 
}
.headericons:hover{
    cursor: url(/stuff/icons/pointer.png), pointer!important;
    border: 5px solid transparent; 
}
  a:hover {
    color: #59e282;
    transition: ease 0.2s;
  }
  button{
    background-color: #1a1a1a44;
    width: 200px;
    height: 75px;
    outline: none;
    border: solid 5px #3b3b3b3b;
    color: white;
    font-family: "Parkinsans", sans-serif;
    font-size: 1.2em;
    border-radius: 15px;
    transition: all ease-in-out .2s;
    backdrop-filter: blur(20px);
    cursor: pointer;
    margin: 10px;
  }
  button:hover{
    background-color: #ececec;
    border: solid 5px #ffffff;
    box-shadow: 0 0 10px #ffffff, 0 0 20px #ffffff, 0 0 30px #ffffff;
    color: black;
  }
  button:active{
    scale: 0.8;
  }
  #vanta {
width: 100%; height: 100%;
opacity: .5;
position: fixed;
top: 0;
left: 0;
z-index: 1;
}
#content {
  z-index: 9998;
  position: relative;
}
#whereamifrom{
  bottom: 0;
  z-index: 9998;
  position: fixed;
  text-align: center;
  display: grid;
  font-family: "Parkinsans", sans-serif;
  transition: all ease-in 0.2s;
}
#whereamifrom img{
  transform: translateY(15px);
}
#whereamifrom img:hover{
  scale: 1;
    transition: ease .2s;
    cursor: default;
}
#buildinfo{
  bottom: 0;
  right: 6.7px;
  z-index: 9998;
  position: fixed;
  text-align: center;
  display: grid;
  font-family: "Parkinsans", sans-serif;
  transition: all ease-in 0.2s;
}
p{
  font-family: "Parkinsans", sans-serif !important;
}
/* why did i make this one line??? */
body { font-family: "Parkinsans" !important; background: #111; color: white; text-align: center; font-family: "Kanit", sans-serif; font-weight: 600; font-style: normal; }
#name{
    font-family: "Parkinsans", sans-serif !important;
    font-size: 30px;
    overflow: hidden;
    font-weight: 800;
    padding-left: 4px;
    margin-block-start: 6px;
    margin-block-end: 5px;
}
#title{
    font-size: 30px;
    overflow: hidden;
    font-weight: 600;
    padding-left: 4px;
    margin-block-start: 6px;
    margin-block-end: 5px;
}
header {
    background-color: #2c2c2c;
    position: fixed;
    top: 0;
    left: 50%;
    border: 0px solid #81bb92;
    transform: translateX(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    text-align: center;
    overflow: clip;
    color: white;
    border-radius: 20px;
    padding: 7px 16px;
    z-index: 9999;
    transition: all ease-in-out .01;
  }
  footer {
    background-color: #2c2c2c;
    position: fixed;
    bottom: 0;
    left: 50%;
    border: 0px solid #81bb92;
    transform: translateX(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    text-align: center;
    overflow: clip;
    color: white;
    border-radius: 20px;
    padding: 7px 16px;
    z-index: 9999;
  }
  button{
    background-color: #1a1a1a44;
    width: 200px;
    height: 75px;
    outline: none;
    border: solid 5px #3b3b3b3b;
    color: white;
    font-family: "Parkinsans", sans-serif;
    font-size: 1.2em;
    border-radius: 15px;
    transition: all ease-in-out .2s;
    backdrop-filter: blur(20px);
    cursor: pointer;
    margin: 10px;
  }
  button:hover{
    color: #000;
    background-color: #ececec;
    border: solid 5px #ffffff;
    box-shadow: 0 0 10px #ffffff, 0 0 15px #ffffff, 0 0 20px #ffffff;
  }
  button:active{
    scale: 0.8;
  }
    select{
    font-family: "Parkinsans", sans-serif;
    font-size: 1.2em;
    padding: 15px 1px;
    margin: 10px;
    background-color: #1a1a1a44;
    color: #fff;
    border: 3px solid #3b3b3b3b;
    min-width: 40px;
    border-radius: 30px;
    cursor: auto;
    box-shadow: 0 4px 6px rgb(0, 0, 0, 0.2);
    z-index:9999;
    backdrop-filter: blur(20px);
    text-decoration-color: white;
    transition: all .2s ease-in-out; 
    overflow: visible;
    text-align: center;
    transform: scaleX(30px);
    width: 100px;
  }
  
  select:hover{
    border: 3px solid #ffffff;
    transition: all .2s ease-in-out; 
  }
  
  select:focus-visible{
    border: 3px solid #ffffff;
    transition: all .2s ease-in-out; 
    outline: 0px;
    box-shadow: 0 0 5px #ffffff, 0 0 15px #ffffff, 0 0 25px #ffffff;
  }
  header img{
    width: 55px;
    height: 55px;
    cursor: pointer;
    transition: transform 0.3s ease;
  }
  header img:hover{
    transform: scale(1.3);
    transition: all .3s ease; 
  }
  #profile-pic{
    cursor: pointer;
    transition: transform 0.3s ease;
    padding: 0%;
    margin: 0px;
    width: 35px;
    height: 35px;
    z-index:9999;
    display: block;
  }
  #profile-pic:hover{
    transform: scale(1.1);
    transition: all .3s ease; 
  }
  #stupidpfpbutton {
    margin: 0;
    cursor: pointer;
    z-index:9999;
    opacity: 1;
    padding: 0px;
    background-color: 0;
    border: 0px;
    height: 35px;
    box-shadow: 0;
    top: 0;
    border-radius: 0;
    transform: translateY(6px);
    background-color: #81bb9200;
  }
  #stupidpfpbutton:hover {
    margin: 0;
    cursor: pointer;
    z-index:9999;
    opacity: 1;
    padding: 0px;
    background-color: #81bb9200;
    border: 0px;
    box-shadow: 0 0 0px #81bb9200, 0 0 0px #81bb9200, 0 0 0px #81bb9200; 
  }
  #the-button-container img{
    top: 3px;
    background-color: 0;
  }
  #header-img-btn{
    cursor: pointer;
    transition: transform 0.3s ease;
    padding: 0%;
    margin: 0px;
    width: 35px;
    height: 35px;
    z-index:9999;
    display: block;
  }
  #header-img-btn:hover{
    transform: scale(1.1);
    transition: all .3s ease; 
    box-shadow: 0 0 0px #81bb92, 0 0 0px #81bb92, 0 0 0px #81bb92; 
  }
  #roddyricchboxselect{
    position: absolute;
    z-index: 9997;
text-align: center;
top: 45%;
left: 50%;
transform: translate(-50%, -55%);
border-radius: 35px;
color: white;
padding: 30px;
line-height: 1.8;
overflow: clip;
scrollbar-width: none;
-ms-overflow-style: none;
transition: all ease-in 0.2s;
  }
img{
    width: 150px;
    height: 150px;
    border-radius: 15px;
    transition: ease .2s;
    border: 5px solid transparent; 
}
#container{
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  transform-origin: top left !important;
  width: 0;
  height: 0;
  border: none !important;
  background: transparent !important;
  display: block !important;
  opacity: 0;
  }
  #container > * {
  width: 100% !important;
  height: 100% !important;
  display: block !important;
  border: 0 !important;
  box-sizing: border-box !important;
  overflow: hidden !important;
}
.loader {
  height: 5px;
  width: 40%;
  text-align: center;
  border-radius: 4px;
  --c:no-repeat linear-gradient(#34d3a3 0 0);
  background: var(--c),var(--c),#242424;
  background-size: 60% 100%;
  animation: l16 3s infinite;
  position: relative;
  visibility: hidden;
  opacity: 0;
}
@keyframes l16 {
  0%   {background-position:-150% 0,-150% 0}
  66%  {background-position: 250% 0,-150% 0}
  100% {background-position: 250% 0, 250% 0}
}
#gametimer {
      position: fixed;
      bottom: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      padding: 10px;
      font-family: Arial, sans-serif;
      font-size: 16px;
      pointer-events: none;
      z-index: 9999;
      width: 200px;
      visibility: hidden;
}
#fadeout, #vanta{
    transition: all ease-in-out .4s;
}
        </style>
    </head>
    <body>
        <div class="rizzpopup">
          <div id="roddyrichesbox">
              <p>getting things ready...</p>
          </div>
        </div>
        <div class="rizzpopup">
          <div id="roddyrichesbox" style="top: 55%;">
              <p>nowgg.fun won't work for you!</p>
              <p>you or your organization has disabled WebRTC, the way we set things up and how now.gg works. please go enable WebRTC and then come back.</p>
          </div>
        </div>
        <div id="fadeout">
        <div id="roddyricchboxselect">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <h1>nowgg.fun launcher</h1>
            <h4>select your prefered screen resolution and frame rate limit below.</h4>
            <h5>the lower your settings are the less laggy it will be. more fps will result in a smoother image, but your image will be more choppy than normal.</h5>
            <p>note: you can no longer change these until now.gg brings back the setting to do so.</p>
            <select id="screensize" style="width: 300px;">
                <option value="select" disabled>select a screen resolution</option>
                <option value="480"disabled>480p</option>
                <option value="720">720p</option>
                <option value="1080" disabled>1080p</option>
            </select>
            <select id="framerate" style="width: 300px;">
                <option value="select" disabled>select a frame rate</option>
                <option value="30">30 fps</option>
                <option value="45" disabled>45 fps</option>
                <option value="50" disabled>50 fps</option>
                <option value="60" disabled>60 fps</option>
            </select>
            <br>
            <br>
            <button onclick="launch()">launch</button>
        </div>
        </div>
        <div id="vanta"></div>
        </div>
        <script>
            // ts code so beautiful twin ðŸ¥¹
            function openscreen(num) {
                document.getElementsByClassName('rizzpopup')[num].style.opacity = "1";
                document.getElementsByClassName('rizzpopup')[num].style.visibility = "visible";
            }
            function closescreen(num) {
                document.getElementsByClassName('rizzpopup')[num].style.opacity = "0";
                document.getElementsByClassName('rizzpopup')[num].style.visibility = "hidden";
            }
            function getQueryParam(param) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(param);
            }
              async function getFirstOctet() {
                let result = null;

                const pc = new RTCPeerConnection({
                    iceServers: [{ urls: "stun:stun.l.google.com:19302" }]
                });

                pc.createDataChannel("dc");
                pc.onicecandidate = event => {
                    if (!event.candidate) return;
                    const cand = event.candidate.candidate;
                    if (cand.includes("typ srflx")) {
                        const parts = cand.split(" ");
                        const ip = parts[4];
                        if (ip.includes(":")) return;
                    const firstOctet = ip.split(".")[0];
                    result = firstOctet;
                }
                else if (cand.includes("typ relay")) {
                        const parts = cand.split(" ");
                        const ip = parts[4];
                        if (ip.includes(":")) return;
                    const firstOctet = ip.split(".")[0];
                    result = firstOctet;
                }
            };

                const offer = await pc.createOffer();
                await pc.setLocalDescription(offer);
                await new Promise(res => setTimeout(res, 1500));
                pc.close();
                return result;
            }
            if (getQueryParam("prefix")){
                sessionStorage.setItem("prefix", getQueryParam("prefix"))
            }
            else if (sessionStorage.getItem("prefix")){
                console.log("we good")
            }
            else {
                openscreen(0)
                getFirstOctet().then(firstOctet => {
            if (firstOctet) {
                sessionStorage.setItem("prefix", firstOctet)
                closescreen(0)
            } else {
                closescreen(0)
                openscreen(1)
            }
        });
        }
            function autoselectreso() {
                const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
                if (!isSafari){
                    const height = window.screen.height;
                    const options = [480, 720, 1080];

                    let closest = options.reduce((prev, curr) =>
                        Math.abs(curr - height) < Math.abs(prev - height)
                        ? curr
                        : prev
                    );

                    const screensizeselect = document.getElementById("screensize");
                    screensizeselect.value = String(closest);
                }
                else{
                    const screensizeselect = document.getElementById("screensize");
                    screensizeselect.value = "720";
                }
            }
            function launch(){
                document.getElementById('fadeout').style = "opacity: 0;";
                document.getElementById('vanta').style = "opacity: 0;";
                setTimeout(function(){
                    let screensizeselect
                    let framerateselect
                    let aptoidestuff
                    if (getQueryParam("deep_link")){
                      aptoidestuff = `deep_link=${getQueryParam("deep_link")}`
                    }
                    else{
                      aptoidestuff = ""
                    }
                    screensizeselect = document.getElementById("screensize").value
                    framerateselect = document.getElementById("framerate").value
                    localStorage.setItem("imsureendis", "hi")
                    localStorage.setItem("nggfunscreensize", screensizeselect)
                    localStorage.setItem("nggfunframerate", framerateselect)
                    const url = getQueryParam("url")
                    if (screensizeselect === "480"){
                        var x = 720
                        var y = 480
                        var fps = framerateselect
                        window.location.href = `https://${sessionStorage.getItem("prefix")}.ip.${window.location.host}${window.location.pathname}?maxFps=${fps}&framebufferSizeWidth=${x}&framebufferSizeHeight=${y}${aptoidestuff}`
                    }
                    else if (screensizeselect === "720"){
                        var x = 1280
                        var y = 720
                        var fps = framerateselect
                        window.location.href = `https://${sessionStorage.getItem("prefix")}.ip.${window.location.host}${window.location.pathname}?${aptoidestuff}`
                    }
                    else if (screensizeselect === "1080"){
                        var x = 1920
                        var y = 1080
                        var fps = framerateselect
                        window.location.href = `https://${sessionStorage.getItem("prefix")}.ip.${window.location.host}${window.location.pathname}?maxFps=${fps}&framebufferSizeWidth=${x}&framebufferSizeHeight=${y}${aptoidestuff}`
                    }
                    else{
                        console.error("son")
                    }
                }, 1000);
            }
            if (!localStorage.getItem("imsureendis")){
               // autoselectreso()
            }
            else{
               // document.getElementById("screensize").value = localStorage.getItem("nggfunscreensize")
               // document.getElementById("framerate").value = localStorage.getItem("nggfunframerate")
            }
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js"></script>
<script>
VANTA.FOG({
  el: "#vanta",
  mouseControls: true,
  touchControls: true,
  gyroControls: false,
  minHeight: 200.00,
  minWidth: 200.00,
  highlightColor: 0xff00b4,
  midtoneColor: 0xe1ff,
  lowlightColor: 0xc2ff00,
  baseColor: 0x2f2f2f,
  blurFactor: 0.90,
  speed: 5.00,
  zoom: 0.40
})
</script>
    </body>
</html>
